{
  "family": "${task_def_family}",
  "taskRoleArn": "${taskrolearn}",
  "executionRoleArn": "${executionrolearn}",
  "networkMode": "awsvpc",
  "requiresCompatibilities": [
    "FARGATE"
  ],
  "cpu": "${taskcpu}",
  "memory": "${taskmemory}",
  "containerDefinitions": [
    {
      "name": "${appcontainername}",
      "image": "310306400902.dkr.ecr.us-east-1.amazonaws.com/liqrcon/liqrcon-tf:tps-backend-liqrcon-1.0.0-2721b090-2002758",
      "cpu": 0,
      "memory": 30720,
      "essential": true,
      "portMappings": [
        {
          "containerPort": 8000,
          "hostPort": 8000,
          "protocol": "tcp"
        }
      ],
      "environment": [
        {
          "name": "DT_LOG",
          "value": "${dt_log}"
        },
        {
          "name": "DT_TENANT",
          "value": "${dt_tenant}"
        },
        {
          "name": "DT_TENANTTOKEN",
          "value": "${dt_tenanttoken}"
        },
        {
          "name": "TW_CONTAINER_NAME",
          "value": "${appcontainername}"
        },
        {
          "name": "JAVA_TOOL_OPTIONS",
          "value": "${java_tool_options}"
        },
        {
          "name": "DT_CUSTOM_PROP",
          "value": "${dt_custom_prop}"
        },
        {
          "name": "SM_SSL",
          "value": "True"
        },
        {
          "name": "PRIVATE_BUCKET",
          "value": "${private_bucket}"
        },
        {
          "name": "spring.profiles.active",
          "value": "${spring_profiles_active}"
        },
        {
          "name": "DT_CONNECTION_POINT",
          "value": "${dt_connection_point}"
        },
        {
          "name": "REGION",
          "value": "${awsregion}"
        }
      ],
      "logConfiguration": {
        "logDriver": "awslogs",
        "options": {
          "awslogs-group": "/aws/ecs/${cluster_name}/${appcontainername}",
          "awslogs-create-group": "true",
          "awslogs-region": "${awsregion}",
          "awslogs-stream-prefix": "${appcontainername}"
        }
      },
      "entryPoint": [
        "sh",
        "-c",
        "/export/webapps/springboot/fnma/sbruntimectl.sh -d aws -i aws-springboot -a start"
      ],
      "mountPoints": [],
      "volumesFrom": [],
      "linuxParameters": {
        "capabilities": {
          "add": [],
          "drop": []
        }
      },
      "systemControls": []
    },
    {
      "name": "liqrcon-nginx-container",
      "image": "920887439016.dkr.ecr.us-east-1.amazonaws.com/ssgecr/shared-images/mw/fm-mw-aws-nginx:6.5.0",
      "cpu": 0,
      "memory": 2048,
      "essential": false,
      "portMappings": [
        {
          "containerPort": 443,
          "hostPort": 443,
          "protocol": "tcp"
        }
      ],
      "environment": [
        {
          "name": "DT_LOG",
          "value": "${dt_log}"
        },
        {
          "name": "DT_TENANT",
          "value": "${dt_tenant}"
        },
        {
          "name": "APP_CLUSTER_NAME",
          "value": "${app_cluster_name}"
        },
        {
          "name": "DT_TENANTTOKEN",
          "value": "${dt_tenanttoken}"
        },
        {
          "name": "APP_ENV",
          "value": "${app_env}"
        },
        {
          "name": "APP_REGION",
          "value": "${app_region}"
        },
        {
          "name": "TW_CONTAINER_NAME",
          "value": "${appcontainername}"
        },
        {
          "name": "DT_LOGLEVELCON",
          "value": "info"
        },
        {
          "name": "APP_NAME",
          "value": "${app_name}"
        },
        {
          "name": "DT_CLUSTER_ID",
          "value": "App=HCG-Liquidation-Reconciliation-Services LifeCycle=devl ServiceId=liqrcon-nginx-container CmdbCode=HCG AssetId=MSR13460 CMDBLongName=Liquidation Reconciliation Services"
        },
        {
          "name": "SM_SSL",
          "value": "True"
        },
        {
          "name": "DT_CONNECTION_POINT",
          "value": "${dt_connection_point}"
        }
      ],
      "logConfiguration": {
        "logDriver": "awslogs",
        "options": {
          "awslogs-group": "/aws/ecs/${cluster_name}/${appcontainername}",
          "awslogs-create-group": "true",
          "awslogs-region": "${awsregion}",
          "awslogs-stream-prefix": "${appcontainername}"
        }
      },
      "entryPoint": [
        "sh",
        "-c",
        "/etc/pki/tls/certs/entrypoint.sh"
      ],
      "mountPoints": [],
      "volumesFrom": [],
      "linuxParameters": {
        "capabilities": {
          "add": [],
          "drop": []
        }
      },
      "systemControls": []
    }
  ],
  "volumes": [],
  "placementConstraints": [],
  "requiresAttributes": [
    {
      "name": "com.amazonaws.ecs.capability.logging-driver.awslogs"
    },
    {
      "name": "ecs.capability.execution-role-awslogs"
    },
    {
      "name": "com.amazonaws.ecs.capability.ecr-auth"
    },
    {
      "name": "com.amazonaws.ecs.capability.docker-remote-api.1.19"
    },
    {
      "name": "com.amazonaws.ecs.capability.task-iam-role"
    },
    {
      "name": "ecs.capability.execution-role-ecr-pull"
    },
    {
      "name": "com.amazonaws.ecs.capability.docker-remote-api.1.18"
    },
    {
      "name": "ecs.capability.task-eni"
    },
    {
      "name": "com.amazonaws.ecs.capability.docker-remote-api.1.29"
    }
  ],
  "compatibilities": [
    "EC2",
    "FARGATE"
  ]
}